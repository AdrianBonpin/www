---
import Navbar from "../components/navbar.astro"
import "../styles/global.css"

// Fonts
import "@fontsource/fusion-pixel-12px-monospaced-jp"
import "@fontsource-variable/raleway"
import Analytics from "../components/analytics.astro"

// SEO Props Interface
interface Props {
    title?: string
    description?: string
    keywords?: string
    image?: string
    url?: string
    type?: string
    author?: string
}

const {
    title = "Adrian Bonpin - Full Stack Developer & Designer",
    description = "Building Dreams. One Line at a Time. Custom websites and web applications tailored to your unique vision. No templates, no duplicates, just you.",
    keywords = "web developer, full stack developer, custom websites, web design, web development, adrian bonpin",
    image = "/og-image.png",
    url = Astro.url.href,
    type = "website",
    author = "Adrian Bonpin",
} = Astro.props

const siteName = "Adrian Bonpin"
const canonicalURL = new URL(
    Astro.url.pathname,
    Astro.site || "https://adrianbonpin.com"
)
---

<!doctype html>
<html
    lang='en'
    class='antialiased scroll-smooth scroll-pt-14 overscroll-none'
>
    <head>
        <meta charset='UTF-8' />
        <meta
            name='viewport'
            content='width=device-width, initial-scale=1.0'
        />
        <meta
            name='generator'
            content={Astro.generator}
        />

        <!-- Primary Meta Tags -->
        <title>{title}</title>
        <meta
            name='title'
            content={title}
        />
        <meta
            name='description'
            content={description}
        />
        <meta
            name='keywords'
            content={keywords}
        />
        <meta
            name='author'
            content={author}
        />
        <link
            rel='canonical'
            href={canonicalURL}
        />

        <!-- Open Graph / Facebook -->
        <meta
            property='og:type'
            content={type}
        />
        <meta
            property='og:url'
            content={url}
        />
        <meta
            property='og:title'
            content={title}
        />
        <meta
            property='og:description'
            content={description}
        />
        <meta
            property='og:image'
            content={new URL(image, Astro.site || "https://adrianbonpin.com")}
        />
        <meta
            property='og:site_name'
            content={siteName}
        />

        <!-- Twitter -->
        <meta
            property='twitter:card'
            content='summary_large_image'
        />
        <meta
            property='twitter:url'
            content={url}
        />
        <meta
            property='twitter:title'
            content={title}
        />
        <meta
            property='twitter:description'
            content={description}
        />
        <meta
            property='twitter:image'
            content={new URL(image, Astro.site || "https://adrianbonpin.com")}
        />

        <!-- Favicon -->
        <link
            rel='icon'
            href='/favicon.png'
            type='image/png'
        />

        <!-- JSON-LD Structured Data -->
        <script
            type='application/ld+json'
            set:html={JSON.stringify({
                "@context": "https://schema.org",
                "@type": "Person",
                name: "Adrian Bonpin",
                jobTitle: "Full Stack Developer & Designer",
                description: description,
                url: url,
                image: new URL(image, Astro.site || "https://adrianbonpin.com"),
                sameAs: [],
            })}
        />

        <script
            type='application/ld+json'
            set:html={JSON.stringify({
                "@context": "https://schema.org",
                "@type": "WebSite",
                name: siteName,
                url: Astro.site || "https://adrianbonpin.com",
                description: description,
                author: {
                    "@type": "Person",
                    name: author,
                },
            })}
        />

        <!-- Analytics -->
        <script
            src='https://analytics.ranlabs.space/api/script.js'
            data-site-id='4'
            defer
        ></script>
    </head>
    <body
        class='w-dvw h-dvh overflow-y-auto overscroll-none relative bg-background text-text flex flex-col'
    >
        <Navbar />
        <slot />
        <Analytics />
        <footer class='w-full flex justify-center px-4 py-10'>
            <div
                class='w-full max-w-7xl flex flex-col md:flex-row justify-between items-center'
            >
                <small
                    >Â© {new Date().getFullYear()} Adrian Bonpin. All rights reserved.</small
                >
                <div
                    class='flex flex-row gap-4 [&_a]:hover:underline [&_a]:hover:text-primary transition-colors'
                >
                    <a
                        href='https://github.com/adrianbonpin'
                        target='_blank'
                        >GitHub</a
                    >
                    <a
                        href='https://linkedin.com/in/adrianbonpin'
                        target='_blank'
                        >LinkedIn</a
                    >
                </div>
            </div>
        </footer>
    </body>
</html>
